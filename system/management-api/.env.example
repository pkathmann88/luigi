# NEVER COMMIT THIS FILE TO GIT!
# This file contains sensitive credentials and configuration

# Node Environment
NODE_ENV=production

# Server Configuration
PORT=8443
HOST=127.0.0.1
# 
# SECURITY: By default, the API only listens on localhost (127.0.0.1)
# This means the API is only accessible from the same machine.
# 
# The frontend (nginx) accesses the API via localhost proxy, so this is secure.
# 
# To allow network access (e.g., for direct API calls from other devices):
# Set HOST=0.0.0.0 to listen on all interfaces
# Note: Ensure proper firewall rules and IP filtering when exposing to network

# Authentication (REQUIRED)
# 
# Default credentials are set during installation.
# 
# SECURITY: Change these default credentials immediately after installation!
# Edit this file: /etc/luigi/system/management-api/.env
# Then restart the service: sudo systemctl restart management-api
#
# The frontend validates credentials via backend API (no frontend rebuild needed)
#
# Default values (CHANGE THESE IN PRODUCTION):
AUTH_USERNAME=admin
AUTH_PASSWORD=changeme123

# HTTPS/TLS Configuration (REQUIRED)
USE_HTTPS=true
TLS_CERT_PATH=/etc/luigi/system/management-api/certs/server.crt
TLS_KEY_PATH=/etc/luigi/system/management-api/certs/server.key

# IP Whitelist (optional - comma-separated IPs)
# Leave empty to allow all local network IPs
# Example: ALLOWED_IPS=192.168.1.100,192.168.1.101
ALLOWED_IPS=

# Rate Limiting
RATE_LIMIT_WINDOW_MINUTES=15
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_FILE=/var/log/luigi/management-api.log
LOG_LEVEL=INFO
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
AUDIT_LOG_FILE=/var/log/luigi/audit.log

# System Paths
# 
# CONFIG_PATH: Directory where module configuration files are stored
#   Default: /etc/luigi
#   Configuration files can be nested in subdirectories (e.g., /etc/luigi/motion-detection/mario/)
#
# LOGS_PATH: Directory where log files are stored
#   Default: /var/log
#   The API will scan for .log files (e.g., /var/log/luigi/*.log)
#
# REGISTRY_PATH: Directory where module registry entries are stored
#   Default: /etc/luigi/modules
#   The centralized registry is the single source of truth for installed modules
#
CONFIG_PATH=/etc/luigi
LOGS_PATH=/var/log
REGISTRY_PATH=/etc/luigi/modules
